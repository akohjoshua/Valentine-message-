<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To My Dearest Nibbs üíï</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }

        .hearts-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .heart {
            position: absolute;
            font-size: 20px;
            animation: float 6s infinite ease-in-out;
            opacity: 0.6;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
        }

        .envelope-wrapper {
            position: relative;
            z-index: 10;
            perspective: 1000px;
        }

        .envelope {
            width: 320px;
            height: 200px;
            position: relative;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .envelope:hover {
            transform: scale(1.05);
        }

        .envelope-flap {
            width: 0;
            height: 0;
            border-left: 160px solid transparent;
            border-right: 160px solid transparent;
            border-top: 100px solid #f4978e;
            position: absolute;
            top: 0;
            left: 0;
            transform-origin: top;
            transition: transform 1s ease;
            z-index: 3;
        }

        .envelope-body {
            width: 320px;
            height: 180px;
            background: #fbc2eb;
            position: absolute;
            bottom: 0;
            left: 0;
            border-radius: 0 0 10px 10px;
        }

        .envelope.open .envelope-flap {
            transform: rotateX(180deg);
        }

        .letter-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 100;
            background: rgba(0, 0, 0, 0.8);
            animation: fadeIn 0.5s ease;
        }

        .letter-container.show {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .letter {
            background: #fff;
            padding: 50px;
            max-width: 700px;
            max-height: 85vh;
            overflow-y: auto;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            position: relative;
            animation: slideUp 0.8s ease;
        }

        @keyframes slideUp {
            from {
                transform: translateY(100px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .letter h1 {
            color: #e63946;
            font-size: 2em;
            margin-bottom: 30px;
            text-align: center;
            font-style: italic;
        }

        .letter p {
            color: #333;
            line-height: 1.8;
            margin-bottom: 20px;
            font-size: 1.1em;
        }

        .letter .signature {
            margin-top: 40px;
            text-align: right;
            font-style: italic;
            color: #666;
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #e63946;
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }

        .close-btn:hover {
            background: #d62828;
        }

        .click-instruction {
            text-align: center;
            color: white;
            margin-top: 30px;
            font-size: 1.2em;
            animation: pulse 2s infinite;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        .music-toggle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            padding: 15px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 16px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .music-toggle:hover {
            transform: scale(1.1);
            background: white;
        }

        @media (max-width: 768px) {
            .letter {
                padding: 30px;
                margin: 20px;
            }

            .letter h1 {
                font-size: 1.5em;
            }

            .letter p {
                font-size: 1em;
            }

            .envelope {
                width: 280px;
                height: 175px;
            }

            .envelope-flap {
                border-left: 140px solid transparent;
                border-right: 140px solid transparent;
                border-top: 87px solid #f4978e;
            }

            .envelope-body {
                width: 280px;
                height: 157px;
            }
        }
    </style>
</head>
<body>
    <div class="hearts-background" id="heartsContainer"></div>
    
    <div class="envelope-wrapper">
        <div class="envelope" id="envelope" onclick="openLetter()">
            <div class="envelope-flap"></div>
            <div class="envelope-body"></div>
        </div>
        <div class="click-instruction">
            üíå Click to open your Valentine's letter üíå
        </div>
    </div>

    <div class="letter-container" id="letterContainer">
        <div class="letter">
            <button class="close-btn" onclick="closeLetter()">√ó</button>
            
            <h1>To My Dearest Nibbs üíï</h1>
            
            <p>Happy Valentine's Day, my love.</p>

            <p>I still can't believe that walking into that conference would change my life forever. Who knew that among all those people, all that noise, I'd find you‚Äîthe person who would become my everything? From that first conversation, something shifted in me, and I haven't been the same since.</p>

            <p>Josh, you are so much more than I ever dared to hope for. Your sweetness isn't just in the grand gestures‚Äîit's in the way you remember the little things, the way you check in on me, the way you make me feel seen. Your kindness radiates from you effortlessly, touching everyone around you, but especially me. And your consideration? You think of me in ways I never thought to think of myself, always wanting the best for me, even when I couldn't see it.</p>

            <p>Thank you for being patient with my walls, for not giving up when I tried to protect myself by pushing you away. You loved me anyway‚Äîgently, persistently, beautifully. You've seen me at my worst and my best, through the bad, the good, the ugly, and the sweet, and somehow you've chosen to stay, to love me deeper with each passing day.</p>

            <p>I cherish every moment we've shared‚Äîthose night walks around campus where we talked about everything and nothing, where time seemed to stop and it was just us under the stars. Our first kiss is burned into my memory like a constellation I could navigate by. Every laugh, every quiet moment, every adventure‚Äîthey're all treasures I hold close to my heart.</p>

            <p>You're so cute it makes my heart ache sometimes, and I love you more than words could ever fully capture. Thank you for being in my life, for being my safe place, my biggest cheerleader, my partner in everything. You make every day brighter just by being you.</p>

            <p>I love you so much, Nibbs. Today and always.</p>

            <p class="signature">Forever yours,<br>Your Valentine üíù</p>
        </div>
    </div>

    <script>
        // Create floating hearts
        function createHearts() {
            const container = document.getElementById('heartsContainer');
            const heartCount = 15;
            
            for (let i = 0; i < heartCount; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart';
                heart.textContent = 'üíï';
                heart.style.left = Math.random() * 100 + '%';
                heart.style.top = Math.random() * 100 + '%';
                heart.style.animationDelay = Math.random() * 6 + 's';
                heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
                container.appendChild(heart);
            }
        }

        function openLetter() {
            document.getElementById('envelope').classList.add('open');
            setTimeout(() => {
                document.getElementById('letterContainer').classList.add('show');
            }, 600);
        }

        function closeLetter() {
            document.getElementById('letterContainer').classList.remove('show');
            document.getElementById('envelope').classList.remove('open');
        }

        // Initialize hearts on load
        createHearts();

        // Add escape key to close letter
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeLetter();
            }
        });
    </script>
</body>
</html>